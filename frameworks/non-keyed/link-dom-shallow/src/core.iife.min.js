var Core=function(h){"use strict";function X(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Ae(n){if(Array.isArray(n))return n}function Fe(n){if(Array.isArray(n))return X(n)}function g(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Te(r.key),r)}}function p(n,t,e){return t&&Ie(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ue(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=Q(n))||t){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,a=!0,s=!1;return{s:function(){e=e.call(n)},n:function(){var o=e.next();return a=o.done,o},e:function(o){s=!0,u=o},f:function(){try{a||e.return==null||e.return()}finally{if(s)throw u}}}}function Me(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Re(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,u,a,s=[],o=!0,c=!1;try{if(u=(e=e.call(n)).next,t!==0)for(;!(o=(r=u.call(e)).done)&&(s.push(r.value),s.length!==t);o=!0);}catch(f){c=!0,i=f}finally{try{if(!o&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ae(n,t){return Ae(n)||Re(n,t)||Q(n,t)||Ne()}function $(n){return Fe(n)||Me(n)||Q(n)||Ve()}function $e(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Te(n){var t=$e(n,"string");return typeof t=="symbol"?t:t+""}function F(n){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(n)}function Q(n,t){if(n){if(typeof n=="string")return X(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?X(n,t):void 0}}var Y;function b(n){var t=n==null?void 0:n.constructor.name;return t==="Object"||t==="Array"}var C=Symbol("ot"),k=Symbol("pt"),se=Symbol("rt");function R(n,t){n=n[k]||n,t=t[C]||t;var e=new Set(Object.keys(n));for(var r in t)if(F(r)!=="symbol"){e.delete(r);var i=t[r];b(i)&&b(n[r])?R(n[r],i):b(i)?n[r]=R({},i):n[r]=i}var u=ue(e),a;try{for(u.s();!(a=u.n()).done;){var s=a.value;F(s)!=="symbol"&&delete n[s]}}catch(o){u.e(o)}finally{u.f()}return Array.isArray(n)&&(n.length=t.length),n}function oe(n){return b(n)?R(Array.isArray(n)?[]:{},n):n}function le(n){return n[C]?oe(n):n}var De=typeof document<"u"&&((Y=document.head)===null||Y===void 0?void 0:Y.constructor.name)==="HTMLHeadElement",fe=function(n){return n[n.Web=0]="Web",n[n.SSR=1]="SSR",n[n.Custom=2]="Custom",n}(fe||{}),S,je={type:fe.Web,querySelector:function(t){return document.querySelector(t)},querySelectorAll:function(t){return document.querySelectorAll(t)},createElement:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div";return document.createElement(t)},createComment:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return document.createComment(t)},createTextNode:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return document.createTextNode(t)},createFragment:function(){return document.createDocumentFragment()},addStyle:function(t){document.head.appendChild(t)}};function Oe(n){return S=n,n}function Pe(){Oe(je)}De&&Pe();function K(n){n.el.__is_hydrate===!0&&(n.el.dom=n)}function ce(n){var t,e;((t=n.start)===null||t===void 0?void 0:t.__is_hydrate)===!0&&(n.start.dom=n,n.start.markerType="start"),((e=n.end)===null||e===void 0?void 0:e.__is_hydrate)===!0&&(n.end.dom=n,n.end.markerType="end")}var l={Global:new WeakMap,Temp:new Set,inCollecting:!1,_latest:{},setLatest:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value";this._latest.target=t,this._latest.key=e},getLatest:function(){return this._latest},add:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.setLatest(t,e),!this.inCollecting&&!r)return null;var i,u=this.Global.get(t);return u||(u=new Map,this.Global.set(t,u)),i=u.get(e),i||(i=new he,u.set(e,i)),r||this.Temp.add(i),i},getDep:function(t,e){var r;return(r=this.Global.get(t))===null||r===void 0?void 0:r.get(e)},sub:function(t,e,r){var i=this.add(t,e,!0),u=function(){return t[e]};return i.collect(u,r,t[e]),function(){return i.remove(u)}},trigger:function(t,e){var r=this.getDep(t,e);r&&(r==null||r.trigger())},clear:function(t){this.Global.delete(t)},CurForChild:null},he=function(){function n(){g(this,n),this.list=new Map}return p(n,[{key:"collect",value:function(e,r,i){var u;(u=l.CurForChild)===null||u===void 0||u.collect(this,e),this.list.set(e,[r,i])}},{key:"trigger",value:function(){var e=ue(this.list),r;try{for(e.s();!(r=e.n()).done;){var i=ae(r.value,2),u=i[0],a=i[1],s=u();a[0](s,a[1]),a[1]=s}}catch(o){e.e(o)}finally{e.f()}}},{key:"remove",value:function(e){this.list.delete(e)}}])}();function T(n,t,e){if(typeof n!="function")return function(){};l.inCollecting=!0;var r=n();if(e==null||e(r),l.inCollecting=!1,l.Temp.size>0){var i=[];return l.Temp.forEach(function(u){u.collect(n,t,r),i.push(u)}),l.Temp.clear(),function(){i.forEach(function(u){return u.remove(n)}),i=null}}return l.Temp.clear(),function(){}}var I={clearEmpty:function(t,e){},newItem:function(t,e,r){},deleteIndex:function(t,e){},updateItem:function(t,e,r){},isForArray:function(t){return!1},useArrayMethod:function(t,e){return null}};function de(n){Object.assign(I,n)}function D(n){if(n[C])return n;if(n[k])return n[k];if(!b(n))return n;var t=new Proxy(n,{get:function(r,i){if(i===C)return r;if(i===k||i==="constructor")return r[i];if(Array.isArray(r)){var u=I.useArrayMethod(r,i);if(u)return u}var a=r[i];return typeof a=="function"?r[i]:(l.add(r,i),b(a)&&!a[k]&&(a[se]=r[se]||r,r[i]=D(a)),Reflect.get(r,i,r))},set:function(r,i,u,a){var s=r[i];if(u===s)return!0;var o=Array.isArray(r)&&i==="length";if(o)return s!==u&&(l.trigger(r,i),I.clearEmpty(r,u)),Reflect.set(r,i,u,a);var c=ve(r,i);if(c&&typeof s>"u")u=D(u),I.newItem(r,parseInt(i),u);else if(b(s)&&b(u)){if(I.isForArray(s[C])){var f;(f=s[k]).splice.apply(f,[0,s.length].concat($(u)))}else R(s,u);return l.trigger(r,i),!0}else I.updateItem(r,parseInt(i),u);var d=Reflect.set(r,i,u,a);return l.trigger(r,i),d},deleteProperty:function(r,i){if(ve(r,i)){var u=parseInt(i);I.deleteIndex(r,u)}var a=Reflect.deleteProperty(r,i);return l.trigger(r,i),a}});return n[k]=t,t}function ve(n,t){return Array.isArray(n)&&typeof t=="string"&&parseInt(t).toString()===t}function We(n){return(n==null?void 0:n[C])||n}function ge(n){return!!(n!=null&&n[C])}function B(n){return x(n)||typeof n=="function"}function qe(n){var t=l.getLatest(),e=t.target,r=t.key,i=e==null?void 0:e[r];return!e||n!==i?(console.warn("generateReactiveByValue 传入参数错误"),null):{sub:function(a){return l.sub(e,r,a)},set:function(a){a!==e[r]&&(e[r]=a,l.trigger(e,r))}}}var Le=function(){function n(t,e){var r=this;g(this,n),this.__isReactive=!0,this.__isComputed=!0,this._set=e,this._clearWatch=T(t,function(i){r._value=i,l.trigger(r,"value")},function(i){r._value=i})}return p(n,[{key:"value",get:function(){return l.add(this,"value"),this._value},set:function(e){if(!this._set){console.warn("Computed not have set property");return}this._set(e)}},{key:"destroy",value:function(){l.clear(this),this._clearWatch()}}])}();function He(n,t){return x(n)?n:new Le(n,t)}function Z(n,t){if(x(n)){var e=n;n=function(){return e.value}}return typeof n=="function"?T(n,t):function(){}}function x(n){return!!(n!=null&&n.__isReactive)}var Ke=function(){function n(t){var e=this;if(g(this,n),this.__isReactive=!0,typeof t=="function")throw new Error("Link 不能传入函数");if(x(t))return t;var r=qe(t);r?(this._value=t,this._set=r.set,this._clearDep=r.sub(function(i){e._triggerSet(i)})):this._value=t}return p(n,[{key:"value",get:function(){return l.add(this,"value"),this._value},set:function(e){var r;e!==this._value&&((r=this._set)===null||r===void 0||r.call(this,e),this._triggerSet(e))}},{key:"_triggerSet",value:function(e){this._value=e,l.trigger(this,"value")}},{key:"destroy",value:function(){var e;l.clear(this),(e=this._clearDep)===null||e===void 0||e.call(this)}}])}();function Be(n){return new Ke(n)}var pe=function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(g(this,n),this.__isReactive=!0,this._deep=!1,x(t))return t;this._deep=e,this.isDeep(t)?this._value=D(t):this._value=t}return p(n,[{key:"value",get:function(){return l.add(this,"value"),this._value},set:function(e){if(e!==this._value){if(this.isDeep(e)){var r;if(I.isForArray((r=this._value)===null||r===void 0?void 0:r[C])){var i;(i=this._value).splice.apply(i,[0,this._value.length].concat($(e)))}else R(this._value,e)}else this._value=e;l.trigger(this,"value")}}},{key:"isDeep",value:function(e){return this._deep&&b(e)}},{key:"destroy",value:function(){l.clear(this)}}])}();function _e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new pe(n,t)}function me(n){return!!(n!=null&&n.__isReactive)}function G(n){return b(n)?new Proxy(We(n),{get:function(e,r){var i=Reflect.get(e,r,e);return l.add(e,r),G(i)},set:function(e,r){return console.warn("Set is not supported:","key=".concat(r.toString())),!1},deleteProperty:function(e,r){return console.warn("Delete is not supported:","key=".concat(r.toString())),!1}}):n}var U=function(){function n(t){g(this,n),this.__ld_type=m.Text,this.el=S.createTextNode(""),typeof t<"u"&&this.text(t),K(this)}return p(n,[{key:"text",value:function(e){var r=this;return P(e,function(i){return r.el.textContent=i}),this}},{key:"mounted",value:function(e){return this.__mounted=e,this}}])}(),ye=function(){function n(t){g(this,n),this.__ld_type=m.Comment,this.el=S.createComment(""),typeof t<"u"&&this.text(t),K(this)}return p(n,[{key:"text",value:function(e){var r=this;return P(e,function(i){return r.el.textContent=i}),this}},{key:"mounted",value:function(e){return this.__mounted=e,this}}])}(),E=function(){function n(){var t=this;g(this,n),this.__ld_type=m.Frag,this._children=[],this._isMounted=!1,this.__mounted=function(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t;t._isMounted||(t._children.forEach(function(i){var u;(u=i.__mounted)===null||u===void 0||u.call(i,i)}),t._children=[],(e=t._mounted)===null||e===void 0||e.call(t,r),t._isMounted=!0)},this.el=S.createFragment(),K(this)}return p(n,[{key:"append",value:function(){for(var e=this,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return j(i,function(a,s){e._isMounted||e._children.push(s),e.el.appendChild(a)}),this}},{key:"prepend",value:function(){for(var e=this,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return j(i,function(a,s){e._isMounted||e._children.unshift(s),e.el.prepend(a)}),this}},{key:"children",get:function(){return this._isMounted?this.el.children:this._children}},{key:"mounted",value:function(e){return this._mounted=e,this}}])}(),Ge=function(){function n(t,e){g(this,n),this.strs=t,this.values=e,this.__is_join=!0,this.__ld_type=m.Join}return p(n,[{key:"el",get:function(){return this.toFrag().el}},{key:"toFrag",value:function(){for(var e=new E,r=this.values.length,i=0;i<r;i++)this.strs[i]&&e.append(this.strs[i]),e.append(new U(this.values[i]));return this.strs[r]&&e.append(this.strs[r]),e}},{key:"toFn",value:function(){var e=this;return function(){for(var r="",i=e.values.length,u=0;u<i;u++)r+=e.strs[u]+W(e.values[u]);return r+e.strs[i]}}}])}();function J(n){return(n==null?void 0:n.__is_join)===!0}function Ue(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return new Ge(n,e)}var m=function(n){return n[n.Dom=0]="Dom",n[n.Text=1]="Text",n[n.Join=2]="Join",n[n.Frag=3]="Frag",n[n.Comment=4]="Comment",n[n.For=5]="For",n[n.If=6]="If",n[n.Switch=7]="Switch",n[n.Show=8]="Show",n[n.Await=9]="Await",n[n.Marker=10]="Marker",n[n.RouterView=11]="RouterView",n}(m||{});function Je(n,t){var e=function(){},r=function(){},i;if(typeof t=="function"){T(t,function(v){e(v)},function(v){i=v});var u=l.getLatest(),a=u.target,s=u.key;r=function(_){a[s]=_,l.trigger(a,s)}}else if(x(t))T(function(){return t.value},function(v){e(v)},function(v){i=v}),r=function(_){t.value=_};else throw new Error("bind 传入参数错误");var o=ze(n,i),c=o.type,f=o.isChecked,d=!1;e=function(_){if(!d){if(f){n.el.checked=_;return}n.value(_)}},e(i);var L=function(){if(f)return n.el.checked;var _=n.value();if(c==="number"){var H=parseFloat(_);return Number.isNaN(H)?"":H}return _},O=function(){var _=L();_!==i&&(c==="number"&&_===""&&(_=0),i=_,d=!0,r(i),d=!1)};n.on("input",O),n.on("change",O)}function ze(n,t){var e="string",r=!1;if(n.el.tagName==="INPUT"){var i=n.attr("type");i==="number"||i==="range"?e="number":i==="radio"||i==="checkbox"?(e="boolean",r=!0):typeof t=="number"?e="number":typeof t=="boolean"&&(e="boolean")}return{type:e,isChecked:r}}function P(n,t){if(x(n)){var e=n;n=function(){return e.value}}else J(n)&&(n=n.toFn());if(typeof n=="function")T(n,function(r){t(r,!1)},function(r){t(r,!0)});else return t(n,!0),!1;return!0}function W(n){return x(n)?n.value:J(n)?n.toFn():typeof n=="function"?n():n}function j(n,t){n.forEach(function(e){var r;if(Array.isArray(e)){j(e,t);return}var i=e;B(i)?(i=new U(i),i=i.el):typeof i.__ld_type=="number"?i=i.el:!(e instanceof Node)&&!(e!=null&&e.__is_ssr)&&(i=S.createTextNode("".concat(e))),t(i,e),(r=e.__mounted)===null||r===void 0||r.call(e,e)})}var Xe=/(width$)|(height$)|(top$)|(bottom$)|(left$)|(right$)|(^margin)|(^padding)|(font-?size)/i,we=/!important$/,Qe=/^[0-9]+$/;function be(n,t){n=Ye(n);var e="";return we.test(t)&&(e="important",t=t.replace(we,"")),Qe.test(t)&&Xe.test(n)&&(t="".concat(t,"px")),{cssKey:n,cssValue:t,important:e}}function Ye(n){for(var t=n.length,e="",r=0;r<t;r++){var i=n[r],u=i.charCodeAt(0);u>=65&&u<=90?e+="-".concat(i.toLowerCase()):e+=i}return e}function Ze(){for(var n={},t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.forEach(function(i){n[i]=function(u){n[i]=u}}),n}var et=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script","svg"];function ee(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return q(n,t,S)}function tt(n){return q(n,!0,S)}function q(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S;if(t){var r=e.querySelector(n);if(r)return new N(r);throw new Error("Element is not exist"+n)}for(var i=e.querySelectorAll(n),u=[],a=0;a<i.length;a++)u.push(new N(i[a]));return u}var te=function(){var n=function(r){return new N(r)},t={frag:{get:function(){return new E}},text:{get:function(){var r=function(u){return new U(u)};return r.text=r,r}},comment:{get:function(){var r=function(u){return new ye(u)};return r.text=r,r}},fromHTML:{get:function(){return function(r){return te.div.html(r).firstChild()}}},query:{get:function(){return ee}},find:{get:function(){return function(r){return ee(r,!0)}}}};return et.forEach(function(e){t[e]={get:function(){return n(e)}}}),Object.defineProperties(n,t),n}();function rt(n){var t=B(n),e=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=new N("style").text(a);return S.addStyle(s.el),s};if(t||typeof n=="string"){var r=e();P(n,function(u){r.text(u)})}else{var i;Ce({data:n,onStyle:function(a,s){a&&(i||(i=e()),i.text(a)),s&&e(s)}})}}function Ce(n){var t=n.data,e=n.reactiveValue,r=e===void 0?[]:e,i=n.staticValue,u=i===void 0?[]:i,a=n.prefix,s=a===void 0?"":a,o=n.index,c=o===void 0?0:o,f=n.onStyle,d=n.first,L=d===void 0?!0:d,O=[],v=function(y){O.push(y),c++};s&&v("".concat(s,"{"));var _=!1,H=[],gt=function(y){var A=t[y],V=!0;if(J(A)?A=A.toFn():V=B(A),V)_=!0,function(_t){P(A,function(Ee,mt){mt?v(re(y,Ee)):(r[_t]=re(y,Ee),f(r.join("").trim()))})}(c);else{if(F(A)==="object")return H.push({key:y,value:A}),1;v(re(y,A))}};for(var pt in t)gt(pt);if(s&&v("}"),O.length){var xe;(xe=_?r:u).push.apply(xe,O)}H.forEach(function(z){var y=z.key,A=z.value,V="";y[0]==="&"?V=y.substring(1):y[0]===":"?V=y:V=" ".concat(y),Ce({data:A,prefix:"".concat(s).concat(V),index:c,reactiveValue:r,staticValue:u,onStyle:f,first:!1})}),L&&f(r.join("").trim(),u.join("").trim())}function re(n,t){var e=be(n,t),r=e.important,i=e.cssValue,u=e.cssKey;return"".concat(u,":").concat(i).concat(r?"!".concat(r):"",";")}function nt(n,t){var e,r=t;typeof t=="string"?r=q(t,!0):t instanceof HTMLElement?r=new N(t):r.__isCustomEl==!0&&(r=new N(r)),Array.isArray(n)?(e=r).append.apply(e,$(n)):r.append(n)}function it(n){var t=te.frag.append(n);return t.el}var N=function(){function n(t){g(this,n),this.__ld_type=m.Dom,this.__xr_funcs={},this.el=typeof t=="string"?S.createElement(t):t,K(this)}return p(n,[{key:"_ur",value:function(e,r){var i=this;return typeof r>"u"?this.el[e]:(this._useR(r,function(u){return i.el[e]=u}),this)}},{key:"class",value:function(e){return this._ur("className",e)}},{key:"id",value:function(e){return this._ur("id",e)}},{key:"addClass",value:function(e){return this.el.classList.add(e),this}},{key:"removeClass",value:function(e){return this.el.classList.remove(e),this}},{key:"hasClass",value:function(e){var r;return(r=this.el)===null||r===void 0?void 0:r.classList.contains(e)}},{key:"toggleClass",value:function(e,r){var i;return!!((i=this.el)!==null&&i!==void 0&&i.classList.toggle(e,r))}},{key:"replaceClass",value:function(e,r){return this.removeClass(r).addClass(e)}},{key:"remove",value:function(){var e;return(e=this.el)===null||e===void 0||e.remove(),this}},{key:"text",value:function(e){return typeof e>"u"?this.el.innerText:J(e)?this.append(e.toFrag()):this._ur("innerText",e)}},{key:"mounted",value:function(e){return this.__mounted=e,this}},{key:"attr",value:function(e,r){var i=this;if(F(e)==="object"){for(var u in e)this.attr(u,e[u]);return this}return typeof r>"u"?this.el.getAttribute(e)||"":(this._useR(r,function(a){return i.el.setAttribute(e,a)}),this)}},{key:"removeAttr",value:function(e){return this.el.removeAttribute(e),this}},{key:"func",value:function(e,r){return typeof r>"u"?this.__xr_funcs[e]:(this.__xr_funcs[e]=r,this)}},{key:"data",value:function(e,r){var i=this;if(F(e)==="object"){for(var u in e)this.data(u,e[u]);return this}if(typeof r>"u"){var a;return((a=this.el.__xr_data)===null||a===void 0?void 0:a[e])||null}return this.el.__xr_data||(this.el.__xr_data={}),this._useR(r,function(s){return i.el.__xr_data[e]=s}),this}},{key:"_useR",value:function(e,r){P(e,r)}},{key:"style",value:function(e,r){var i=this;if(typeof r<"u")return this._useR(r,function(a){var s=be(e,a),o=s.important,c=s.cssValue,f=s.cssKey;i.el.style.setProperty(f,c,o)}),this;if(typeof e=="string")return this.el.style[e];for(var u in e)this.style(u,e[u]);return this}},{key:"value",value:function(e){return this._ur("value",e)}},{key:"html",value:function(e){return this._ur("innerHTML",e)}},{key:"outerHtml",value:function(e){var r=this;return typeof e>"u"?this.el.outerHTML:(this._useR(e,function(i){r.html(i),r.el=r.el.children[0]}),this)}},{key:"child",value:function(e){var r=this.el.children[e];return r?new n(r):null}},{key:"next",value:function(){var e=this.el.nextElementSibling;return e?new n(e):null}},{key:"prev",value:function(){var e=this.el.previousElementSibling;return e?new n(e):null}},{key:"firstChild",value:function(){return this.child(0)}},{key:"lastChild",value:function(){var e=this.el.children;return e.length===0?null:new n(e[e.length-1])}},{key:"brothers",value:function(){var e;return((e=this.parent())===null||e===void 0?void 0:e.children())||[]}},{key:"childrenLength",get:function(){return this.el.children.length}},{key:"children",value:function(){if(arguments.length>0)return this.el.childNodes.length>0&&this.empty(),this.append.apply(this,arguments);for(var e=this.childrenLength,r=[],i=0;i<e;i++)r.push(this.child(i));return r}},{key:"click",value:function(e){return this.on("click",e)}},{key:"on",value:function(e,r){var i=this;if(F(e)==="object"){for(var u in e)this.on(u,e[u]);return this}var a=this.el;if(typeof r=="function")this.el.addEventListener(e,function(c){r(c,i)});else{var s,o=function(f){var d;r.self&&f.target!==a||(r.stop&&f.stopPropagation(),r.prevent&&f.preventDefault(),r.once&&a.removeEventListener(e,o,r.capture),(d=r.listener)===null||d===void 0||d.call(r,f,i))};a.addEventListener(e,o,(s=r.capture)!==null&&s!==void 0?s:!1)}return this}},{key:"append",value:function(){for(var e=this,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return j(i,function(a){e.el.appendChild(a)}),this}},{key:"prepend",value:function(){for(var e=this,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return j(i,function(a){e.el.prepend(a)}),this}},{key:"ref",value:function(e){return e(this),this}},{key:"hide",value:function(){return this.display("none")}},{key:"display",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"block";return this.style("display",e)}},{key:"show",value:function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";return this._useR(e,function(u){r.display(u?i:"none")}),this}},{key:"query",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return q(e,r,this.el)}},{key:"src",value:function(e){return this._ur("src",e)}},{key:"parent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(e===0)return this;for(var r=this.el;e>0;){if(r=r.parentElement,!r)return null;e--}return new n(r)}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(e){return this.attr("__xr_name",e)}},{key:"findName",value:function(e){return this.query('[__xr_name="'.concat(e,'"]'),!0)}},{key:"find",value:function(e){return this.query(e,!0)}},{key:"type",value:function(e){return this.attr("type",e)}},{key:"bind",value:function(e){return Je(this,e),this}}])}(),ke=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.start,r=t.end,i=r===void 0?!0:r,u=t.clearSelf,a=u===void 0?!1:u,s=t.startText,o=s===void 0?"":s,c=t.endText,f=c===void 0?"":c;g(this,n),this.__ld_type=m.Marker,this.end=null,this._clearSelf=!1,this.start=e||M(o),i&&(this.end=M(f)),ce(this),this._clearSelf=a}return p(n,[{key:"parentNode",get:function(){return this.start.parentNode}},{key:"clear",value:function(){if(!this.start.parentNode)throw new Error("parent is null");for(var e=this._clearSelf?this.start:this.start.nextSibling,r=[];e;){if(e.nodeType===Node.COMMENT_NODE){var i=e;if(i===this.end)break}e.remove(),r.push(e),e=this.start.nextSibling}return r}},{key:"replace",value:function(e){var r=this.start.parentNode;if(!r)throw new Error("parent is null");var i=this.clear(),u=this.start.nextSibling;return u?r.insertBefore(e,u):r.appendChild(e),i}}])}();function M(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=S.createComment(n);return t.__marker=!0,t}function ut(n,t){for(var e=n;e&&e!==t;){var r=e.nextSibling;e.remove(),e=r}}var at=function(){function n(t,e,r,i,u,a){g(this,n),this._generator=t,this._index=i,this.removed=!1,this._list=[],this.indexUsed=!1,this.data=u?e?_e(r):{value:r}:r;var s=this;this.index={get value(){return a==null||a(),l.add(this,"value"),s._index}}}return p(n,[{key:"addForEl",value:function(e){this.forEls||(this.forEls=[]),this.forEls.push(e)}},{key:"collect",value:function(e,r){this._list.push({dep:e,exp:r})}},{key:"frag",get:function(){if(!this._frag){var e=this._generator(this.data,this.index);typeof e.__ld_type!="number"?this._frag=new E().append(e):this._frag=e;var r=this._frag;r.children||(r=this._frag.el),r.children.length===0&&r.prepend(M())}return this._frag}},{key:"marker",get:function(){if(!this._marker){var e=this.frag,r=e.__ld_type,i;if(r===m.Frag){var u;i=(u=e.children[0])===null||u===void 0?void 0:u.el,i||(i=M(),e.prepend(i))}else{var a;i=((a=e.getMarker)===null||a===void 0?void 0:a.call(e))||e.el}this._marker=new ke({start:i,clearSelf:!0})}return this._marker}},{key:"destroy",value:function(){var e;this.removed||(this._list.forEach(function(r){return r.dep.remove(r.exp)}),this._list=[],this.marker.clear(),this.removed=!0,(e=this.forEls)===null||e===void 0||e.forEach(function(r){return r.destroy()}))}},{key:"setIndex",value:function(e){e!==this._index&&(this._index=e,l.trigger(this.index,"value"))}}])}(),w={Map:new WeakMap,add:function(t,e){t=t[C]||t;var r=w.Map.get(t);r||(r=new Set,w.Map.set(t,r)),r.add(e)}};de({deleteIndex:function(t,e){var r;(r=w.Map.get(t))===null||r===void 0||r.forEach(function(i){return i._deleteItem(e)})},newItem:function(t,e,r){var i;(i=w.Map.get(t))===null||i===void 0||i.forEach(function(u){return u._newItem(e,r)})},clearEmpty:function(t,e){var r;(r=w.Map.get(t))===null||r===void 0||r.forEach(function(i){return i._clearEmptyChildren(e)})},updateItem:function(t,e,r){var i;(i=w.Map.get(t))===null||i===void 0||i.forEach(function(u){return u._updateItem(e,r)})},isForArray:function(t){return w.Map.has(t)},useArrayMethod:function(t,e){var r;return((r=st[e])===null||r===void 0?void 0:r.bind(t))||null}});function ne(n,t){l.trigger(n,t);var e=n[t];if(b(e))for(var r in e)ne(e,r)}var st={reverse:function(){for(var t=this,e=t.length,r=Math.floor(t.length/2),i=w.Map.get(this),u=function(o){var c=e-o-1,f=t[o];t[o]=t[c],t[c]=f,ne(t,o.toString()),ne(t,c.toString()),i==null||i.forEach(function(d){return d._swapDom(o,c)})},a=0;a<r;a++)u(a);return this[k]||this},sort:function(t){var e=this[C]||this,r=this[k]||this,i=new Map,u=new Proxy(e,{set:function(s,o,c){var f=s[o];if(f===c)return!0;i.set(f,le(f));var d=i.get(c)||c;return r[o]=d,!0}});return u.sort(t),i=u=null,r},splice:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var u=r.length,a=0,s=0;if(u===0?a=this.length-t:(a=r.shift(),s=u-1),typeof a=="number"){for(var o=Math.min(a,s),c=0;c<o;c++)R(this[c+t],r.shift());if(a!==s){var f=w.Map.get(this);t+=o,a>s?(a-=s,this.splice(t,a),f==null||f.forEach(function(d){return d._removeDoms(t,a)})):(this.splice.apply(this,[t,0].concat($(r.map(function(d){return D(d)})))),f==null||f.forEach(function(d){return d._addDoms(t,r.length)}))}}return this[k]||this},unshift:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=w.Map.get(this);return this.splice.apply(this,[0,0].concat($(e.map(function(u){return D(u)})))),i==null||i.forEach(function(u){return u._addDoms(0,e.length)}),this[k]||this},shift:function(){var t=w.Map.get(this),e=this.splice(0,1);return t==null||t.forEach(function(r){return r._removeDoms(0,1)}),e[0]}},Se=function(){function n(t,e){var r=this,i,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;g(this,n),this.itemRef=u,this.__ld_type=m.For,this.children=[],this._isDeep=!1,this._useIndex=!1,this.useIndex=function(){r._useIndex=!0,r.useIndex=null},this._list=me(t)?t.value:t,w.add(this._list,this),this._isDeep=ge(this._list),this._generator=e,this._initChildren(),ce(this),(i=l.CurForChild)===null||i===void 0||i.addForEl(this)}return p(n,[{key:"getMarker",value:function(){return this.start}},{key:"newChild",value:function(e,r){var i=this,u=new at(this._generator,this._isDeep,e,r,this.itemRef,this.useIndex);return this.itemRef&&this._isDeep&&F(e)!=="object"&&l.sub(u.data,"value",function(a){var s=u.index.value,o=i._list[C];o[s]=a,l.trigger(o,"".concat(s))}),this.children[r]=u,u}},{key:"_updateItem",value:function(e,r){if(e>=this._list.length){this.insertChildNode(r,e,this.end);return}this.children[e].data.value=r}},{key:"_newItem",value:function(e,r){for(var i,u=this.children,a=u.length,s=this.end,o=e;o<a&&!u[o];)o++;s=((i=u[o])===null||i===void 0?void 0:i.marker.start)||this.end,this.insertChildNode(r,e,s)}},{key:"insertChildNode",value:function(e,r,i){var u,a,s=this.newChild(e,r);l.CurForChild=s;var o=i.parentNode;(u=(a=s.frag).__mounted)===null||u===void 0||u.call(a),o.insertBefore(s.frag.el,i),l.CurForChild=null}},{key:"__mounted",get:function(){return this.frag.__mounted}},{key:"mounted",value:function(e){return this.frag.mounted(e),this}},{key:"_initChildren",value:function(){this.frag=this._initListFrag(),this.start=M(""),this.end=M(""),this.frag.append(this.start,this.end),this.el=this.frag.el}},{key:"_initListFrag",value:function(){for(var e=new E,r=this._list,i=r.length,u=0;u<i;u++)e.append(this.newChild(r[u],u).frag);return e}},{key:"_deleteItem",value:function(e){var r=this.children[e];r==null||r.destroy()}},{key:"_removeDoms",value:function(e,r){for(var i=e;i<e+r;i++){var u;(u=this.children[i])===null||u===void 0||u.destroy()}this.children.splice(e,r),this._updateIndex(e+r-1)}},{key:"_addDoms",value:function(e,r){for(var i=e;i<e+r;i++)this.children.splice(i,0,null),this._newItem(i,this._list[i]);this._updateIndex(e+r)}},{key:"_swapDom",value:function(e,r){var i=this.children[e],u=this.children[r],a=this.children[e+1].marker.start,s=a.parentElement;r===e+1?a=i.marker.start:i.marker.clear().forEach(function(o){s.insertBefore(o,u.marker.start)}),u.marker.clear().forEach(function(o){s.insertBefore(o,a)}),this._useIndex&&(i.setIndex(r),u.setIndex(e)),this.children[e]=u,this.children[r]=i}},{key:"_updateIndex",value:function(e){if(this._useIndex)for(var r=this.children.length,i=e;i<r;i++)this.children[i].setIndex(i)}},{key:"_clearEmptyChildren",value:function(e){e>=this.children.length||this.children.splice(e).forEach(function(r){r.destroy()})}},{key:"destroy",value:function(){var e;(e=this._clearWatch)===null||e===void 0||e.call(this),this.children.length>0&&(ut(this.children[0].marker.start,this.end),this.children.forEach(function(r){r.destroy()}),this.children=[]),this.end.remove()}}])}(),ot=function(){function n(t,e){g(this,n),this.ref=t,this.gene=e,this.scope=null,this.scope=l.CurForChild}return p(n,[{key:"toFrag",value:function(){return this.frag||(l.CurForChild=this.scope,this.frag=new E().append(this.gene()),l.CurForChild=null),this.frag}},{key:"store",value:function(e){this.frag.append(e)}}])}(),ie=function(){function n(t,e){var r;g(this,n),this.__ld_type=m.If,this.activeIndex=-1,this.scopes=[],(r=l.CurForChild)===null||r===void 0||r.addForEl(this),this._addCond(t,e),this.marker=new ke}return p(n,[{key:"el",get:function(){return this._initChildren(),this._el}},{key:"getMarker",value:function(){return this.marker.start}},{key:"elif",value:function(e,r){return this._addCond(e,r)}},{key:"_addCond",value:function(e,r){return this.scopes.push(new ot(e,r)),this}},{key:"else",value:function(e){return this._addCond(!0,e),this}},{key:"__mounted",value:function(){var e,r,i=this;this.frag&&(this.__mountedFn&&this.frag.mounted(this.__mountedFn),(e=this.frag)===null||e===void 0||(r=e.__mounted)===null||r===void 0||r.call(e,this.frag),this._clearWatch=Z(function(){return i.scopes.map(function(u){return W(u.ref)})},function(){var u=i.switchCase();if(u!==i.activeIndex){var a,s=i.activeIndex;i.activeIndex=u;var o;if(u===-1)o=i.marker.clear();else{var c=i.scopes[u].toFrag();c.__mounted(),o=i.marker.replace(c.el)}(a=i.scopes[s])===null||a===void 0||a.store(o)}}),this.frag=null)}},{key:"mounted",value:function(e){return this.__mountedFn=e,this}},{key:"_initChildren",value:function(){if(!this._el){this.frag=new E,this.frag.append(this.marker.start);var e=this.switchCase();this.activeIndex=e,e>=0&&this.frag.append(this.scopes[e].toFrag()),this.frag.append(this.marker.end),this._el=this.frag.el}}},{key:"switchCase",value:function(){for(var e=this.scopes.length,r=0;r<e;r++){var i=this.scopes[r],u=!!W(i.ref);if(u)return r}return-1}},{key:"destroy",value:function(){var e;this.scopes=null,(e=this._clearWatch)===null||e===void 0||e.call(this)}}])}(),lt=function(){function n(t){g(this,n),this.ref=t,this.__ld_type=m.Switch}return p(n,[{key:"el",get:function(){if(!this.if)throw new Error("switch must have case or default");return this.if.el}},{key:"getMarker",value:function(){return this.if.getMarker()}},{key:"case",value:function(e,r){var i=this,u=function(){var s=W(i.ref),o=typeof e=="function"?e():e;return Array.isArray(o)?o.includes(s):o===s};return this.if?this.if.elif(u,r):this.if=new ie(u,r),this}},{key:"default",value:function(e){return this.if?this.if.else(e):this.if=new ie(function(){return!1},e),this}},{key:"__mounted",value:function(){var e;(e=this.if)===null||e===void 0||e.__mounted()}},{key:"mounted",value:function(e){return this.if.mounted(e),this}},{key:"destroy",value:function(){var e;(e=this.if)===null||e===void 0||e.destroy()}}])}();function ft(n,t){var e;if(t)return t;var r=(e=n.style)===null||e===void 0?void 0:e.display;if(!r){if(typeof document>"u")return"block";var i=n.cloneNode();document.head.appendChild(i),r=getComputedStyle(i).display,i.remove()}return r}var ct=function(){function n(t,e,r){var i,u=this;g(this,n),this.__ld_type=m.Show,this.frag=new E,(i=l.CurForChild)===null||i===void 0||i.addForEl(this);var a=[];j([e()],function(s){u._marker||(u._marker=s),u.frag.append(s);var o;s.nodeType===Node.TEXT_NODE?(o=M(""),s._bro=o,u.frag.append(s,o)):(o=ft(s,r),u.frag.append(s)),a.push([s,o])}),this._clearWatch=Z(function(){return W(t)},function(s){a.forEach(function(o){var c=ae(o,2),f=c[0],d=c[1];if(f.nodeType===Node.ELEMENT_NODE)f.style&&(f.style.display=s?d:"none");else if(f.nodeType===Node.TEXT_NODE)if(s){var L=d.parentNode;L.insertBefore(f,d)}else f.remove()})})}return p(n,[{key:"el",get:function(){return this.frag.el}},{key:"getMarker",value:function(){return this._marker}},{key:"mounted",value:function(e){return this.frag.mounted(e),this}},{key:"destroy",value:function(){var e;(e=this._clearWatch)===null||e===void 0||e.call(this)}}])}(),ht=function(){function n(t,e){var r=this;g(this,n),this.__ld_type=m.Await,this.start=M(),this.el=new E().append(this.start).el,t.then(function(i){var u=e(i),a=new E().append(u);a.__mounted();var s=r.start.parentNode,o=r.start.nextSibling;o?s.insertBefore(a.el,o):s.appendChild(a.el)})}return p(n,[{key:"getMarker",value:function(){return this.start}}])}(),dt={for:function(t,e){return new Se(t,e)},forRef:function(t,e){return new Se(t,e,!0)},forStatic:function(t,e){return(x(t)?t.value:t).map(function(r,i){return e(r,i)})},if:function(t,e){return new ie(t,e)},switch:function(t){return new lt(t)},scope:function(t){return t()},show:function(t,e,r){return new ct(t,e,r)},await:function(t,e){return new ht(t,e)}};function vt(n){return n&&(typeof n=="function"?function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(void 0,$(e.map(function(i){return G(i)})))}:G(n))}return h.Comment=ye,h.Dep=he,h.DepUtil=l,h.Dom=N,h.Frag=E,h.LinkDomType=m,h.Ref=pe,h.Text=U,h.childToFrag=it,h.collectRef=Ze,h.computed=He,h.ctrl=dt,h.deepAssign=R,h.deepClone=oe,h.dom=te,h.find=tt,h.flow=vt,h.isDeepReactive=ge,h.isReactive=x,h.isReactiveLike=B,h.isRef=me,h.join=Ue,h.link=Be,h.mount=nt,h.observe=T,h.query=ee,h.queryBase=q,h.raw=le,h.reactive=D,h.reader=G,h.ref=_e,h.setArrayListeners=de,h.style=rt,h.watch=Z,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),h}({});
